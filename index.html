<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auditor√≠a de Gesti√≥n BSC - Pinturas C√≥ndor S.A.</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px;
            text-align: center;
        }

        .header h1 {
            color: #2d3748;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            color: #718096;
            font-size: 1.1em;
        }

        .filters {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
            margin-bottom: 30px;
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            align-items: center;
        }

        .filter-group {
            flex: 1;
            min-width: 200px;
        }

        .filter-group label {
            display: block;
            color: #4a5568;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .filter-group select {
            width: 100%;
            padding: 10px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s;
        }

        .filter-group select:hover {
            border-color: #667eea;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .metric-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }

        .metric-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.25);
        }

        .metric-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .metric-title {
            font-size: 0.9em;
            color: #718096;
            font-weight: 600;
            text-transform: uppercase;
        }

        .risk-badge {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.75em;
            font-weight: bold;
            text-transform: uppercase;
        }

        .risk-alto {
            background: #feb2b2;
            color: #c53030;
        }

        .risk-moderado {
            background: #fbd38d;
            color: #c05621;
        }

        .risk-bajo {
            background: #9ae6b4;
            color: #22543d;
        }

        .metric-value {
            font-size: 2.5em;
            font-weight: bold;
            color: #2d3748;
            margin: 10px 0;
        }

        .metric-goal {
            font-size: 0.9em;
            color: #718096;
            margin-bottom: 15px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e2e8f0;
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: width 0.5s ease;
        }

        .charts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .chart-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        }

        .chart-title {
            font-size: 1.3em;
            color: #2d3748;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .actions-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        }

        .actions-title {
            font-size: 1.5em;
            color: #2d3748;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .action-item {
            background: #f7fafc;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 4px solid #667eea;
            transition: all 0.3s;
        }

        .action-item:hover {
            background: #edf2f7;
            transform: translateX(5px);
        }

        .action-item h4 {
            color: #2d3748;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .action-item p {
            color: #718096;
            line-height: 1.6;
        }

        .action-meta {
            display: flex;
            gap: 15px;
            margin-top: 10px;
            flex-wrap: wrap;
        }

        .meta-tag {
            display: inline-block;
            padding: 5px 10px;
            background: #e2e8f0;
            border-radius: 5px;
            font-size: 0.85em;
            color: #4a5568;
        }

        @media (max-width: 768px) {
            .charts-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 1.8em;
            }
        }

        .tab-container {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
            margin-bottom: 30px;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 2px solid #e2e8f0;
        }

        .tab {
            padding: 12px 24px;
            cursor: pointer;
            border: none;
            background: none;
            font-size: 1em;
            font-weight: 600;
            color: #718096;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }

        .tab:hover {
            color: #667eea;
        }

        .tab.active {
            color: #667eea;
            border-bottom-color: #667eea;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .bsc-matrix {
            width: 100%;
            border-collapse: collapse;
            background: white;
            font-size: 0.9em;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .bsc-matrix thead {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .bsc-matrix th {
            padding: 15px 10px;
            text-align: left;
            font-weight: 600;
            font-size: 0.85em;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .bsc-matrix td {
            padding: 12px 10px;
            border-bottom: 1px solid #e2e8f0;
            color: #4a5568;
            line-height: 1.5;
        }

        .bsc-matrix tbody tr:hover {
            background: #f7fafc;
        }

        .bsc-matrix .text-center {
            text-align: center;
            font-weight: 600;
        }

        .risk-high {
            border-left: 4px solid #fc8181;
        }

        .risk-moderate {
            border-left: 4px solid #f6ad55;
        }

        .risk-low {
            border-left: 4px solid #9ae6b4;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üé® Auditor√≠a de Gesti√≥n BSC</h1>
            <p><strong>Pinturas C√≥ndor S.A.</strong> | An√°lisis de Indicadores Estrat√©gicos | 2025</p>
        </div>

        <div class="filters">
            <div class="filter-group">
                <label>Perspectiva BSC</label>
                <select id="perspectiveFilter" onchange="filterDashboard()">
                    <option value="todas">Todas las perspectivas</option>
                    <option value="financiera">Financiera</option>
                    <option value="procesos">Procesos Internos</option>
                    <option value="aprendizaje">Aprendizaje y Crecimiento</option>
                </select>
            </div>
            <div class="filter-group">
                <label>Nivel de Riesgo</label>
                <select id="riskFilter" onchange="filterDashboard()">
                    <option value="todos">Todos los riesgos</option>
                    <option value="alto">Alto</option>
                    <option value="moderado">Moderado</option>
                </select>
            </div>
        </div>

        <div class="metrics-grid" id="metricsGrid">
            <div class="metric-card" data-perspective="aprendizaje" data-risk="alto">
                <div class="metric-header">
                    <span class="metric-title">Capacitaci√≥n</span>
                    <span class="risk-badge risk-alto">Alto</span>
                </div>
                <div class="metric-value">0.1</div>
                <div class="metric-goal">Meta: ‚â• 70% capacitados | Actual: ~14%</div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 14%"></div>
                </div>
            </div>

            <div class="metric-card" data-perspective="financiera" data-risk="alto">
                <div class="metric-header">
                    <span class="metric-title">Desviaci√≥n Presupuestaria (BI)</span>
                    <span class="risk-badge risk-alto">Alto</span>
                </div>
                <div class="metric-value">$10.8B</div>
                <div class="metric-goal">Meta: Desviaci√≥n ‚â§ 10%</div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 5%; background: #fc8181"></div>
                </div>
            </div>

            <div class="metric-card" data-perspective="financiera" data-risk="moderado">
                <div class="metric-header">
                    <span class="metric-title">ROE - Rentabilidad</span>
                    <span class="risk-badge risk-moderado">Moderado</span>
                </div>
                <div class="metric-value">7.89%</div>
                <div class="metric-goal">Meta: ‚â• 15% | Actual: 7.89%</div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 52.6%; background: #f6ad55"></div>
                </div>
            </div>

            <div class="metric-card" data-perspective="financiera" data-risk="moderado">
                <div class="metric-header">
                    <span class="metric-title">Prueba √Åcida - Liquidez</span>
                    <span class="risk-badge risk-moderado">Moderado</span>
                </div>
                <div class="metric-value">0.94</div>
                <div class="metric-goal">Meta: ‚â• 1.20 | Actual: 0.94</div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 78.3%; background: #f6ad55"></div>
                </div>
            </div>
        </div>

        <div class="tab-container">
            <div class="tabs">
                <button class="tab active" onclick="switchTab('resumen')">Resumen Ejecutivo</button>
                <button class="tab" onclick="switchTab('matriz')">Matriz BSC Completa</button>
                <button class="tab" onclick="switchTab('analisis')">An√°lisis Detallado</button>
                <button class="tab" onclick="switchTab('cronograma')">Cronograma</button>
            </div>

            <div id="matriz" class="tab-content">
                <div style="overflow-x: auto;">
                    <table class="bsc-matrix">
                        <thead>
                            <tr>
                                <th>Componente</th>
                                <th>Riesgo</th>
                                <th>Descripci√≥n</th>
                                <th>Factores</th>
                                <th>Probabilidad</th>
                                <th>Impacto</th>
                                <th>Riesgo</th>
                                <th>Soluci√≥n Propuesta</th>
                                <th>Responsables</th>
                                <th>Plazo</th>
                                <th>Indicador</th>
                                <th>Meta</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="risk-high">
                                <td><strong>Ambiente de Control</strong></td>
                                <td>Indicador de √âtica</td>
                                <td>No se cumple adecuadamente con el indicador de √âtica. Valor 0.1: baja capacitaci√≥n afecta √©tica y calidad</td>
                                <td>Capacitaciones aisladas. Factores internos y externos afectan</td>
                                <td class="text-center">3</td>
                                <td class="text-center">2</td>
                                <td class="text-center"><span class="risk-badge risk-alto">ALTO</span></td>
                                <td>Implementar programa obligatorio de capacitaci√≥n anual en √âtica y C√≥digo de Conducta</td>
                                <td>Jefe de Talento Humano ‚Äì Gerente de Producci√≥n</td>
                                <td>01/12/2025 - 30/06/2025</td>
                                <td>Empleados Capacitados / Total Empleados</td>
                                <td>‚â• 70%</td>
                            </tr>
                            <tr class="risk-high">
                                <td><strong>Ambiente de Control</strong></td>
                                <td>Indicador BI</td>
                                <td>No se cumple con indicador BI. Valor: $10.816.865.939.787,20 - gran desviaci√≥n presupuestaria</td>
                                <td>Informes presupuestarios anuales. Extrema variabilidad de datos</td>
                                <td class="text-center">3</td>
                                <td class="text-center">3</td>
                                <td class="text-center"><span class="risk-badge risk-alto">ALTO</span></td>
                                <td>Iniciar Iniciativa de Gobernanza de Datos para corregir variabilidad y baja fiabilidad</td>
                                <td>Gerente Financiero ‚Äì Analista de Gesti√≥n</td>
                                <td>01/12/2025 - 31/08/2025</td>
                                <td>Œ£ (Valor Real ‚Äì Valor Previsto)¬≤ / n</td>
                                <td>‚â§ 10%</td>
                            </tr>
                            <tr class="risk-moderate">
                                <td><strong>Ambiente de Control</strong></td>
                                <td>Indicador ROE</td>
                                <td>No se cumple con indicador ROE. Valor 0.0789: baja rentabilidad del patrimonio</td>
                                <td>An√°lisis financiero anual. Ineficiencias operativas</td>
                                <td class="text-center">3</td>
                                <td class="text-center">1</td>
                                <td class="text-center"><span class="risk-badge risk-moderado">MODERADO</span></td>
                                <td>Implementar Proyecto Estrat√©gico de Optimizaci√≥n Operacional</td>
                                <td>Gerente General ‚Äì Gerente Financiero</td>
                                <td>01/12/2025 - 31/08/2025</td>
                                <td>Utilidad Neta / Patrimonio</td>
                                <td>‚â• 0.15 (15%)</td>
                            </tr>
                            <tr class="risk-moderate">
                                <td><strong>Ambiente de Control</strong></td>
                                <td>Prueba √Åcida</td>
                                <td>Valor 0.94: liquidez insuficiente para cubrir obligaciones inmediatas</td>
                                <td>Control semanal de flujo. Capital de trabajo deficiente</td>
                                <td class="text-center">2</td>
                                <td class="text-center">1</td>
                                <td class="text-center"><span class="risk-badge risk-moderado">MODERADO</span></td>
                                <td>Ejecutar urgentemente plan de optimizaci√≥n de capital de trabajo y cobranza</td>
                                <td>Tesorero ‚Äì Analista Contable</td>
                                <td>01/12/2025 - 31/08/2025</td>
                                <td>(Activo Corriente ‚Äì Inventarios) / Pasivo Corriente</td>
                                <td>‚â• 1.20</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div style="margin-top: 30px; padding: 20px; background: #f7fafc; border-radius: 10px; border-left: 4px solid #667eea;">
                    <h3 style="color: #2d3748; margin-bottom: 15px;">üìä Resumen de la Matriz BSC</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                        <div>
                            <strong style="color: #718096;">Total de Riesgos:</strong>
                            <div style="font-size: 1.5em; color: #2d3748;">4</div>
                        </div>
                        <div>
                            <strong style="color: #718096;">Riesgos Altos:</strong>
                            <div style="font-size: 1.5em; color: #c53030;">2</div>
                        </div>
                        <div>
                            <strong style="color: #718096;">Riesgos Moderados:</strong>
                            <div style="font-size: 1.5em; color: #c05621;">2</div>
                        </div>
                        <div>
                            <strong style="color: #718096;">Inversi√≥n Total:</strong>
                            <div style="font-size: 1.5em; color: #2d3748;">$828</div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="resumen" class="tab-content">
                <div class="charts-grid">
                    <div class="chart-card">
                        <h3 class="chart-title">Comparativa de Indicadores vs Meta</h3>
                        <canvas id="chartComparativa"></canvas>
                    </div>
                    <div class="chart-card">
                        <h3 class="chart-title">Distribuci√≥n de Riesgos</h3>
                        <canvas id="chartRiesgos"></canvas>
                    </div>
                </div>

                <div class="chart-card" style="margin-bottom: 30px;">
                    <h3 class="chart-title">Cumplimiento por Perspectiva BSC</h3>
                    <canvas id="chartPerspectivas"></canvas>
                </div>
            </div>

            <div id="analisis" class="tab-content">
                <div class="chart-card" style="margin-bottom: 30px;">
                    <h3 class="chart-title">An√°lisis de Brecha (Gap Analysis)</h3>
                    <canvas id="chartBrechas"></canvas>
                </div>

                <div class="charts-grid">
                    <div class="chart-card">
                        <h3 class="chart-title">Impacto vs Probabilidad</h3>
                        <canvas id="chartMatrizRiesgo"></canvas>
                    </div>
                    <div class="chart-card">
                        <h3 class="chart-title">Recursos Asignados</h3>
                        <canvas id="chartRecursos"></canvas>
                    </div>
                </div>
            </div>

            <div id="cronograma" class="tab-content">
                <div class="chart-card">
                    <h3 class="chart-title">L√≠nea de Tiempo - Plan de Mitigaci√≥n</h3>
                    <canvas id="chartCronograma"></canvas>
                </div>
            </div>
        </div>

        <div class="actions-section">
            <h2 class="actions-title">üìã Plan de Mitigaci√≥n - Acciones Prioritarias</h2>
            
            <div class="action-item">
                <h4>1. Programa Obligatorio de Capacitaci√≥n en √âtica y C√≥digo de Conducta</h4>
                <p><strong>Soluci√≥n:</strong> Implementar un programa obligatorio de capacitaci√≥n anual en √âtica y C√≥digo de Conducta para todo el personal, con m√≥dulos espec√≠ficos por √°rea y evaluaciones de cumplimiento.</p>
                <div class="action-meta">
                    <span class="meta-tag">üë• Responsable: Jefe de Talento Humano</span>
                    <span class="meta-tag">üìÖ Plazo: 01/12/2025 - 30/06/2025</span>
                    <span class="meta-tag">üí∞ Presupuesto: $207</span>
                    <span class="meta-tag">üéØ Meta: ‚â•70% empleados capacitados</span>
                    <span class="meta-tag">‚ö†Ô∏è Indicador √âtica: Actual 0.1</span>
                </div>
            </div>

            <div class="action-item">
                <h4>2. Iniciativa de Gobernanza de Datos y Business Intelligence</h4>
                <p><strong>Soluci√≥n:</strong> Iniciar una Iniciativa de Gobernanza de Datos para corregir la extrema variabilidad y baja fiabilidad de los datos presupuestarios. Incluye implementaci√≥n de software BI, pol√≠ticas de calidad de datos, y controles autom√°ticos de validaci√≥n.</p>
                <div class="action-meta">
                    <span class="meta-tag">üë• Responsable: Gerente Financiero - CIO</span>
                    <span class="meta-tag">üìÖ Plazo: 01/12/2025 - 31/08/2025</span>
                    <span class="meta-tag">üíª Software BI + Gobernanza: $207</span>
                    <span class="meta-tag">üéØ Meta: Desviaci√≥n ‚â§10%</span>
                    <span class="meta-tag">‚ö†Ô∏è Desviaci√≥n actual: $10.8B</span>
                </div>
            </div>

            <div class="action-item">
                <h4>3. Proyecto Estrat√©gico de Optimizaci√≥n Operacional</h4>
                <p><strong>Soluci√≥n:</strong> Implementar un Proyecto Estrat√©gico de Optimizaci√≥n Operacional enfocado en mejora de procesos productivos, reducci√≥n de costos operativos, y maximizaci√≥n de m√°rgenes para incrementar la rentabilidad del patrimonio.</p>
                <div class="action-meta">
                    <span class="meta-tag">üë• Responsable: Gerente General - Gerente de Operaciones</span>
                    <span class="meta-tag">üìÖ Plazo: 01/12/2025 - 31/08/2025</span>
                    <span class="meta-tag">üîç Consultor√≠a Lean Six Sigma: $207</span>
                    <span class="meta-tag">üéØ Meta: ROE ‚â•15%</span>
                    <span class="meta-tag">‚ö†Ô∏è ROE actual: 7.89%</span>
                </div>
            </div>

            <div class="action-item">
                <h4>4. Plan de Optimizaci√≥n Urgente de Capital de Trabajo y Cobranza</h4>
                <p><strong>Soluci√≥n:</strong> Ejecutar urgentemente un plan de optimizaci√≥n de capital de trabajo mediante: (1) aceleraci√≥n de cobros con pol√≠ticas agresivas de recuperaci√≥n, (2) renegociaci√≥n de plazos con proveedores, (3) software de gesti√≥n de cobranzas, y (4) proyecciones semanales de flujo de caja.</p>
                <div class="action-meta">
                    <span class="meta-tag">üë• Responsable: Tesorero - Gerente Financiero</span>
                    <span class="meta-tag">üìÖ Plazo: URGENTE 01/12/2025 - 31/08/2025</span>
                    <span class="meta-tag">üíª Software cobranzas + Capital de Trabajo: $207</span>
                    <span class="meta-tag">üéØ Meta: Prueba √Åcida ‚â•1.20</span>
                    <span class="meta-tag">‚ö†Ô∏è Liquidez actual: 0.94</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Configuraci√≥n de colores
        const colors = {
            primary: '#667eea',
            secondary: '#764ba2',
            success: '#48bb78',
            warning: '#f6ad55',
            danger: '#fc8181',
            info: '#4299e1'
        };

        // Datos de indicadores
        const indicadores = {
            capacitacion: { actual: 0.1, meta: 0.7, label: 'Capacitaci√≥n' },
            roe: { actual: 0.0789, meta: 0.15, label: 'ROE' },
            liquidez: { actual: 0.94, meta: 1.20, label: 'Prueba √Åcida' }
        };

        // Gr√°fico Comparativa
        const ctxComparativa = document.getElementById('chartComparativa').getContext('2d');
        new Chart(ctxComparativa, {
            type: 'bar',
            data: {
                labels: ['Capacitaci√≥n', 'ROE', 'Prueba √Åcida'],
                datasets: [{
                    label: 'Valor Actual',
                    data: [14, 7.89, 0.94],
                    backgroundColor: colors.danger
                }, {
                    label: 'Meta',
                    data: [70, 15, 1.20],
                    backgroundColor: colors.success
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: { position: 'bottom' },
                    title: { display: false }
                },
                scales: {
                    y: { beginAtZero: true }
                }
            }
        });

        // Gr√°fico Riesgos
        const ctxRiesgos = document.getElementById('chartRiesgos').getContext('2d');
        new Chart(ctxRiesgos, {
            type: 'doughnut',
            data: {
                labels: ['Riesgo Alto', 'Riesgo Moderado'],
                datasets: [{
                    data: [2, 2],
                    backgroundColor: [colors.danger, colors.warning]
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: { position: 'bottom' }
                }
            }
        });

        // Gr√°fico Perspectivas BSC
        const ctxPerspectivas = document.getElementById('chartPerspectivas').getContext('2d');
        new Chart(ctxPerspectivas, {
            type: 'radar',
            data: {
                labels: ['Financiera', 'Clientes', 'Procesos Internos', 'Aprendizaje y Crecimiento'],
                datasets: [{
                    label: 'Cumplimiento Actual',
                    data: [52, 75, 65, 14],
                    backgroundColor: 'rgba(102, 126, 234, 0.2)',
                    borderColor: colors.primary,
                    pointBackgroundColor: colors.primary
                }, {
                    label: 'Meta',
                    data: [100, 100, 100, 100],
                    backgroundColor: 'rgba(72, 187, 120, 0.1)',
                    borderColor: colors.success,
                    pointBackgroundColor: colors.success
                }]
            },
            options: {
                responsive: true,
                scales: {
                    r: {
                        beginAtZero: true,
                        max: 100
                    }
                },
                plugins: {
                    legend: { position: 'bottom' }
                }
            }
        });

        // Gr√°fico Brechas
        const ctxBrechas = document.getElementById('chartBrechas').getContext('2d');
        new Chart(ctxBrechas, {
            type: 'bar',
            data: {
                labels: ['Capacitaci√≥n', 'Desv. Presup.', 'ROE', 'Liquidez'],
                datasets: [{
                    label: 'Brecha (%)',
                    data: [-80, -90, -47.4, -21.7],
                    backgroundColor: [colors.danger, colors.danger, colors.warning, colors.warning]
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                plugins: {
                    legend: { display: false }
                },
                scales: {
                    x: { 
                        beginAtZero: true,
                        max: 0,
                        min: -100
                    }
                }
            }
        });

        // Gr√°fico Matriz de Riesgo
        const ctxMatriz = document.getElementById('chartMatrizRiesgo').getContext('2d');
        new Chart(ctxMatriz, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: 'Capacitaci√≥n',
                    data: [{ x: 3, y: 2 }],
                    backgroundColor: colors.danger,
                    pointRadius: 15
                }, {
                    label: 'Desv. Presup.',
                    data: [{ x: 3, y: 3 }],
                    backgroundColor: colors.danger,
                    pointRadius: 15
                }, {
                    label: 'ROE',
                    data: [{ x: 3, y: 1 }],
                    backgroundColor: colors.warning,
                    pointRadius: 15
                }, {
                    label: 'Liquidez',
                    data: [{ x: 2, y: 1 }],
                    backgroundColor: colors.warning,
                    pointRadius: 15
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: { position: 'bottom' },
                    title: {
                        display: true,
                        text: 'Probabilidad (X) vs Impacto (Y)'
                    }
                },
                scales: {
                    x: { 
                        min: 0,
                        max: 4,
                        title: { display: true, text: 'Probabilidad' }
                    },
                    y: { 
                        min: 0,
                        max: 4,
                        title: { display: true, text: 'Impacto' }
                    }
                }
            }
        });

        // Gr√°fico Recursos
        const ctxRecursos = document.getElementById('chartRecursos').getContext('2d');
        new Chart(ctxRecursos, {
            type: 'pie',
            data: {
                labels: ['Presup. Capacitaci√≥n', 'Software BI', 'Consultor√≠a', 'Software Cobranzas'],
                datasets: [{
                    data: [207, 207, 207, 207],
                    backgroundColor: [colors.primary, colors.info, colors.warning, colors.success]
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: { position: 'bottom' }
                }
            }
        });

        // Gr√°fico Cronograma
        const ctxCronograma = document.getElementById('chartCronograma').getContext('2d');
        new Chart(ctxCronograma, {
            type: 'bar',
            data: {
                labels: ['Capacitaci√≥n', 'Business Intelligence', 'Optimizaci√≥n Costos', 'Gesti√≥n Cartera'],
                datasets: [{
                    label: 'Duraci√≥n (meses)',
                    data: [7, 9, 9, 9],
                    backgroundColor: [colors.primary, colors.info, colors.warning, colors.success]
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                plugins: {
                    legend: { display: false },
                    title: {
                        display: true,
                        text: 'Inicio: 01/12/2025'
                    }
                },
                scales: {
                    x: {
                        title: { display: true, text: 'Duraci√≥n en meses' }
                    }
                }
            }
        });

        // Funciones de filtrado
        function filterDashboard() {
            const perspective = document.getElementById('perspectiveFilter').value;
            const risk = document.getElementById('riskFilter').value;
            const cards = document.querySelectorAll('.metric-card');

            cards.forEach(card => {
                const cardPerspective = card.getAttribute('data-perspective');
                const cardRisk = card.getAttribute('data-risk');
                
                let showPerspective = perspective === 'todas' || cardPerspective === perspective;
                let showRisk = risk === 'todos' || cardRisk === risk;

                if (showPerspective && showRisk) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        // Funci√≥n para cambiar tabs
        function switchTab(tabName) {
            // Ocultar todos los contenidos
            const contents = document.querySelectorAll('.tab-content');
            contents.forEach(content => content.classList.remove('active'));

            // Desactivar todos los tabs
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => tab.classList.remove('active'));

            // Activar el tab seleccionado
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        // Animaci√≥n de entrada
        window.addEventListener('load', () => {
            const cards = document.querySelectorAll('.metric-card');
            cards.forEach((card, index) => {
                setTimeout(() => {
                    card.style.opacity = '0';
                    card.style.transform = 'translateY(20px)';
                    card.style.transition = 'all 0.5s ease';
                    setTimeout(() => {
                        card.style.opacity = '1';
                        card.style.transform = 'translateY(0)';
                    }, 50);
                }, index * 100);
            });
        });
    </script>
</body>
</html>
